---
title: "HP EX485 - Install Ubuntu + Amahi"
layout: Post
date: 2012-08-26 10:18:00
description: Second life for HP Home Media Servers.
tags:
  - personal
keywords: [hp, hp ex485, ex485, amahi]
status: draft
---

I purchased the HP EX485 early 2009, but it has become useless to me since I switched to a Mac. With the release of OSX Lion, there is no solution that I’ve been able to find to use OSX Time Machine (backup) with EX485, even with the Windows Home Server (WHS) 2011 update. I’ve spent countless hours researching online and testing before I gave up.

As a result, HP EX485 sat in my closet for the past year or so, collecting dust. $500 worth of equipment (including 3x 1 TB hard drives) sitting lame in my closet.

A week ago, I decided to take a look at the hardware again and see what options are available to me with the EX485.

### Inspiration – Amahi

I remember reading about Amahi somewhere (probably [Lifehacker][link1]), decide to investigate it. Here are some things that Amahi can do.

Share your photos (or any files) with any device in your network
Centrally store all your music and videos
Quickly back-up your computers
Run applications to co-ordinate your household (eg. shared calendars)
Securely access all your ‘stuff’ when you are out, whether at work, a friend’s place, or out of town!
I also found this article which inspired me to pursue this option: [http://www.howtogeek.com/63253/upgrade-your-windows-home-server-with-amahi/][link2]. However, I had 2 problems with this artcle: 1) It appears the Amahi will stop supporting Fedora and Express CD installs in the future; 2) Instruction didn’t work for me.

Therefore, I sought out the goal to install Ubuntu 12.04 (latest version at the time when this article was written) and Amahi on the headless (no VGA/keyboard/mouse) HP EX485 server.

### Solution

It took at least 4 hours to figure out the solution in the howtogeek article above wouldn’t work for me. When I was at the point of almost giving up, I found this article by Dag Olav which gave me hope! [http://dagolav.prestegarden.com/installing-ubuntu-on-the-hp-mediasmart-ex490][link3]. He doesn’t show instructions to install Amahi, but at least you can get Ubuntu on the EX485 (in his case…EX490, a close cousin).

### Install Ubuntu 12.04 Server 64-bit

Read Dag’s article carefully and follow his instructions. HOWEVER, you do need to make minor tweaks to get it working on the EX485 and Amahi. Here is what I did…which turned out to be successful for me.

1. Make sure that the computers/servers you are working on are connect to the internet using the network card/ethernet cable (not wireless).
2. I did not use a USB drive for install. I downloaded Ubuntu from their website and burned on a CD. It’s just because I didn’t have a USB stick with me and didn’t want to buy one. CD worked fine for me.
3. Download Ubuntu 12.04 SERVER 64-bit for the EX485.
4. I could NOT for the life of me get the Ubuntu DESKTOP version working. I think it might have to due with the lack of video in the EX485. So, unless you think you know how to solve this….stick to the SERVER version.
5. IMPORTANT (applies to EX485) Do you see where Dag’s says to use ‘eth0′ in the ‘interfaces’ file? Replace that with ‘eth1′. I wasted hours because I didn’t read a comment by a reader that provided this solution. This is so that when the transplanted hard drive boots up for the 1st time in the EX485, it’ll know which network card to talk to. Note: We’ll change this back to ‘eth0′ later.
6. Before you proceed, you should now been able to install Ubuntu on the EX485, and SSH into it, and have a terminal prompt. Congratulations.
7. This is final step before moving onto Amahi install. We have to change EX485 network card’s ‘eth1′ binding to ‘eth0′. Apparently, Amahi likes to use ‘eth0′ since it’s supposed to be the primary network card. Follow these instructions: [http://wiki.amahi.org/index.php/BindingNetworkDevices][link4] . Basically, in the ’70-persistent-net.rules’ file, change the ‘eth1′ to ‘eth0′ and ‘eth0′ to ‘eth1′. Lastly, go back to step #5 above an change the ‘interfaces’ file to use ‘eth0′, since the network card (NIC) is now assigned to ‘eth0′.
8. Reboot and confirm that it’s still working and you can ‘ssh’ into the server. Whew…let’s move on!

### Install Amahi

From here, Amahi does a good job of explaining what to do. [http://docs.amahi.org/ubuntu-12.html][link5]. Follow the outlined steps starting from step #2. It thought I would have more to write here, but I really don’t. Amahi’s instructions are pretty straight foward and easy.

That should do it! Let’s starting enjoying EX485 again! Thanks to Ubuntu and Amahi!
Kenny

[link1]: http://lifehacker.com/5332535/amahi-turns-old-systems-into-full-featured-media-servers
[link2]: http://www.howtogeek.com/63253/upgrade-your-windows-home-server-with-amahi/
[link3]: http://dagolav.prestegarden.com/installing-ubuntu-on-the-hp-mediasmart-ex490
[link4]: http://wiki.amahi.org/index.php/BindingNetworkDevices
[link5]: http://docs.amahi.org/ubuntu-12.html
